# 🎰 年終尾牙抽獎程式

透明球體樂透機的互動式網頁應用，採用物理模擬與視覺特效展示。

## 🎯 功能特點

- **透明玻璃球體**：帶有光澤反射與視覺深度的 3D 球體設計
- **物理引擎模擬**：球與邊界碰撞、反彈、摩擦、渦流混合
- **逐顆揭曉機制**：從 M 個號碼中不重複抽取 N 個，配合動畫延遲
- **程式化音效**：
  - 滾球音效（Whoosh noise）
  - 揭曉提示音（動態頻率 Beep）
  - 完成樂隊（Arpeggio）
- **動態視覺特效**：
  - 粒子爆裂效果
  - 脈衝數字動畫
  - 閃爍光圈
- **響應式設計**：支援桌面、平板、手機

## 🚀 使用方式

### 本地使用
直接用瀏覽器開啟 `index.html` 即可執行。

### 設定參數
- **M（總球數）**：1 ~ 9999，決定號碼範圍
- **N（抽出球數）**：1 ~ 9999，決定要抽多少顆（自動限制 N ≤ M）

### 操作流程
1. 設定 M 和 N
2. 點擊「開始抽獎」
3. 觀看球體滾動 (~1.6 秒)
4. 逐顆揭曉號碼（每顆延遲 ~550ms）
5. 可重複抽獎

## 🛠️ 技術堆疊

| 技術 | 說明 |
|------|------|
| HTML5 | 語義化標記 |
| CSS3 | 漸層、動畫、玻璃態效果、變數 |
| Vanilla JS | 無框架依賴 |
| Web Audio API | 動態生成音效（無需外部檔案） |
| requestAnimationFrame | 60fps 物理模擬 |

## 📝 核心模組

### SFX（音效系統）
```javascript
SFX.beep()      // 單音提示音
SFX.whoosh()    // 滾球音效
SFX.win()       // 完成樂隊
SFX.resumeIfNeeded()  // 處理瀏覽器音訊限制
```

### 物理引擎（rollStep）
- 渦流場混合（Swirl bias）
- 圓形邊界碰撞反射
- 摩擦阻尼與隨機擾動

### 抽獎邏輯（runDraw）
1. 驗證參數
2. 啟動滾球動畫
3. 使用 Fisher-Yates Shuffle 產生不重複抽籤
4. 逐顆播放動畫、音效、特效

## 🎨 設計要素

### 色彩系統
- **主色（Brand）**：#9A0036（紅）
- **強調（Accent）**：#D6A33A（金）
- **輔助**：#EEBAC0（粉）、#941C61（紫紅）

### 動畫關鍵幀
- `pop`：號碼球揭曉彈跳
- `spark`：粒子爆裂軌跡
- `pulse`：數字脈衝放大
- `shine`：球體光環旋轉

## 📱 瀏覽器相容性

- Chrome/Edge：✅ 全功能
- Firefox：✅ 全功能
- Safari：✅ 全功能（需啟用音訊）
- IE：❌ 不支援

## ⚠️ 注意事項

- **首次音訊啟用**：由於瀏覽器自動播放限制，需使用者點擊「開始抽獎」來啟用音訊
- **無向外依賴**：完全獨立的單一 HTML 檔案，便於部署
- **效能優化**：使用 `will-change` 與 `transform` 實現 GPU 加速

## 📄 授權

版權所有：© Dunk

---

**Live Demo**：直接在瀏覽器開啟 `index.html`
