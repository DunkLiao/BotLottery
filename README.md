# 🎰 Bank of Taiwan｜年終尾牙抽獎系統

這是一個純前端、無需安裝、無伺服器的年終尾牙抽獎網頁應用。特色為透明玻璃球體動畫、物理模擬、程式化音效，以及支援多獎品、可重複/不可重複中獎、CSV 上傳與匯出等功能。所有資料皆儲存在瀏覽器本地，保障隱私。

## 主要功能

- 透明球體動畫，模擬真實樂透機滾動與碰撞
- 支援上傳員工名單（CSV）與獎品清單（CSV）
- 可設定每種獎品抽出人數，並選擇可否重複中獎
- 逐一揭曉中獎者，搭配動畫與 Web Audio API 音效
- 中獎名單可一鍵匯出 CSV
- 支援多種編碼（UTF-8、Big5、GBK、UTF-16LE）
- 資料儲存於 LocalStorage，重整不遺失

## 使用方式

1. 下載或 clone 本專案，直接用瀏覽器開啟 [index.html](index.html)
2. 上傳員工 CSV（格式：員工編號,姓名，第一列為標題）
3. 上傳獎品 CSV（格式：獎品種類,獎品數量，第一列為標題）
4. 選擇獎品、設定抽出人數 N（預設與獎品數量同步，可手動調整）
5. 選擇「可重複中獎」或「不可重複」
6. 點擊「開始抽獎」，依序揭曉中獎者
7. 可匯出中獎名單 CSV，或清除/重置資料

## 操作說明：重置 vs 清除資料

- **重置（N 至 1）**：停止動畫、清空球體與結果顯示，並將抽出人數 `N` 重設為 `1`；不影響參與者、獎品與中獎紀錄。
- **清除資料**：移除瀏覽器本地（LocalStorage）的參與者、獎品與中獎紀錄；此時參與者數 `M=0`，抽出人數 `N=0`，需重新上傳 CSV 後方可抽獎。
 - **提示**：清除前確認視窗會告知抽出人數 `N` 將歸 `0`，需重新上傳 CSV 後才能抽獎。

## CSV 格式範例

員工名單：
```csv
員工編號,姓名
A001,王小明
A002,李小華
A003,張小美
```

獎品清單：
```csv
獎品種類,獎品數量
頭獎,1
貳獎,2
參獎,3
```

**下載範例（Big5 編碼）**
- [examples/employees.csv](examples/employees.csv)
- [examples/prizes.csv](examples/prizes.csv)

## 技術說明

- 單一檔案應用（HTML+CSS+JS）
- 物理模擬：requestAnimationFrame、碰撞反彈、摩擦、渦流
- 音效：Web Audio API 動態產生（無外部音檔）
- 視覺特效：CSS 動畫、粒子爆裂、脈衝數字
- 資料持久化：LocalStorage
- 無障礙支援：prefers-reduced-motion

## 專案結構

```
BotLottery/
├── index.html      # 主程式
├── README.md       # 說明文件
└── logo.png        # Logo 圖片（需自備）
```

## 注意事項

- 首次播放音效需用戶互動（點擊「開始抽獎」）
- 所有資料僅儲存在本機，不會上傳
- 支援 Chrome/Edge/Firefox/Safari，IE 不支援

## 授權

版權所有 © Dunk

---

**Demo**：直接開啟 [index.html](index.html) 即可體驗
